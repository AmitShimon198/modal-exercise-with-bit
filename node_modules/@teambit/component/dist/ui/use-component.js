"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useComponent = useComponent;

function _reactRouterDom() {
  const data = require("react-router-dom");

  _reactRouterDom = function () {
    return data;
  };

  return data;
}

function _uiFoundationUiReactRouter() {
  const data = require("@teambit/ui-foundation.ui.react-router.use-query");

  _uiFoundationUiReactRouter = function () {
    return data;
  };

  return data;
}

function _useComponentQuery() {
  const data = require("./use-component-query");

  _useComponentQuery = function () {
    return data;
  };

  return data;
}

function useComponent(host, id) {
  const {
    params: {
      componentId
    }
  } = (0, _reactRouterDom().useRouteMatch)();
  const query = (0, _uiFoundationUiReactRouter().useQuery)();
  const version = query.get('version') || undefined;
  const targetId = (id === null || id === void 0 ? void 0 : id.toString({
    ignoreVersion: true
  })) || componentId;
  if (!targetId) throw new TypeError('useComponent received no component id');
  return (0, _useComponentQuery().useComponentQuery)(withVersion(targetId, version), host);
}

function withVersion(id, version) {
  if (!version) return id;
  if (id.includes('@')) return id;
  return `${id}@${version}`;
}

//# sourceMappingURL=use-component.js.map