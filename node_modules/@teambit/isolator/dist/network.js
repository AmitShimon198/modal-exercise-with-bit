"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Network = void 0;

function _capsuleList() {
  const data = _interopRequireDefault(require("./capsule-list"));

  _capsuleList = function () {
    return data;
  };

  return data;
}

class Network {
  constructor(_graphCapsules, seedersIds, _capsulesRootDir) {
    this._graphCapsules = _graphCapsules;
    this.seedersIds = seedersIds;
    this._capsulesRootDir = _capsulesRootDir;
  }
  /**
   * seeders capsules only without the entire graph. normally, this includes the capsules of one
   * env.
   */


  get seedersCapsules() {
    const capsules = this.seedersIds.map(seederId => {
      const capsule = this.graphCapsules.getCapsule(seederId);
      if (!capsule) throw new Error(`unable to find ${seederId.toString()} in the capsule list`);
      return capsule;
    });
    return _capsuleList().default.fromArray(capsules);
  }
  /**
   * all capsules, including the dependencies of the seeders. (even when they belong to another env)
   */


  get graphCapsules() {
    return this._graphCapsules;
  }

  get capsulesRootDir() {
    return this._capsulesRootDir;
  }

}

exports.Network = Network;

//# sourceMappingURL=network.js.map