{"version":3,"sources":["network.ts"],"names":["Network","constructor","_graphCapsules","seedersIds","_capsulesRootDir","seedersCapsules","capsules","map","seederId","capsule","graphCapsules","getCapsule","Error","toString","CapsuleList","fromArray","capsulesRootDir"],"mappings":";;;;;;;;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEO,MAAMA,OAAN,CAAc;AACnBC,EAAAA,WAAW,CACDC,cADC,EAEDC,UAFC,EAGDC,gBAHC,EAIT;AAAA,SAHQF,cAGR,GAHQA,cAGR;AAAA,SAFQC,UAER,GAFQA,UAER;AAAA,SADQC,gBACR,GADQA,gBACR;AAAE;AAEJ;AACF;AACA;AACA;;;AACqB,MAAfC,eAAe,GAAgB;AACjC,UAAMC,QAAQ,GAAG,KAAKH,UAAL,CAAgBI,GAAhB,CAAqBC,QAAD,IAAc;AACjD,YAAMC,OAAO,GAAG,KAAKC,aAAL,CAAmBC,UAAnB,CAA8BH,QAA9B,CAAhB;AACA,UAAI,CAACC,OAAL,EAAc,MAAM,IAAIG,KAAJ,CAAW,kBAAiBJ,QAAQ,CAACK,QAAT,EAAoB,sBAAhD,CAAN;AACd,aAAOJ,OAAP;AACD,KAJgB,CAAjB;AAKA,WAAOK,uBAAYC,SAAZ,CAAsBT,QAAtB,CAAP;AACD;AAED;AACF;AACA;;;AACmB,MAAbI,aAAa,GAAgB;AAC/B,WAAO,KAAKR,cAAZ;AACD;;AAEkB,MAAfc,eAAe,GAAwB;AACzC,WAAO,KAAKZ,gBAAZ;AACD;;AA7BkB","sourcesContent":["import { ComponentID } from '@teambit/component';\nimport { PathOsBasedAbsolute } from '@teambit/legacy/dist/utils/path';\nimport CapsuleList from './capsule-list';\n\nexport class Network {\n  constructor(\n    private _graphCapsules: CapsuleList,\n    private seedersIds: ComponentID[],\n    private _capsulesRootDir: string\n  ) {}\n\n  /**\n   * seeders capsules only without the entire graph. normally, this includes the capsules of one\n   * env.\n   */\n  get seedersCapsules(): CapsuleList {\n    const capsules = this.seedersIds.map((seederId) => {\n      const capsule = this.graphCapsules.getCapsule(seederId);\n      if (!capsule) throw new Error(`unable to find ${seederId.toString()} in the capsule list`);\n      return capsule;\n    });\n    return CapsuleList.fromArray(capsules);\n  }\n\n  /**\n   * all capsules, including the dependencies of the seeders. (even when they belong to another env)\n   */\n  get graphCapsules(): CapsuleList {\n    return this._graphCapsules;\n  }\n\n  get capsulesRootDir(): PathOsBasedAbsolute {\n    return this._capsulesRootDir;\n  }\n}\n"]}