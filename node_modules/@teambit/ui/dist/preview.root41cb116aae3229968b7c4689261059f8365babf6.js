
import { Harmony } from '@teambit/harmony';
import previewAspect from 'C:\\Users\\amits\\AppData\\Local\\.bvm\\versions\\0.0.515\\bit-0.0.515\\node_modules\\@teambit\\preview';
import docsAspect from 'C:\\Users\\amits\\AppData\\Local\\.bvm\\versions\\0.0.515\\bit-0.0.515\\node_modules\\@teambit\\docs';
import compositionsAspect from 'C:\\Users\\amits\\AppData\\Local\\.bvm\\versions\\0.0.515\\bit-0.0.515\\node_modules\\@teambit\\compositions';
import graphqlAspect from 'C:\\Users\\amits\\AppData\\Local\\.bvm\\versions\\0.0.515\\bit-0.0.515\\node_modules\\@teambit\\graphql';
import pubsubAspect from 'C:\\Users\\amits\\AppData\\Local\\.bvm\\versions\\0.0.515\\bit-0.0.515\\node_modules\\@teambit\\pubsub';
import reactAspect from 'C:\\Users\\amits\\AppData\\Local\\.bvm\\versions\\0.0.515\\bit-0.0.515\\node_modules\\@teambit\\react';
import commandBarAspect from 'C:\\Users\\amits\\AppData\\Local\\.bvm\\versions\\0.0.515\\bit-0.0.515\\node_modules\\@teambit\\command-bar';
import previewRuntime from 'C:\\Users\\amits\\AppData\\Local\\.bvm\\versions\\0.0.515\\bit-0.0.515\\node_modules\\@teambit\\preview\\dist\\preview.preview.runtime.js';
import docsRuntime from 'C:\\Users\\amits\\AppData\\Local\\.bvm\\versions\\0.0.515\\bit-0.0.515\\node_modules\\@teambit\\docs\\dist\\docs.preview.runtime.js';
import compositionsRuntime from 'C:\\Users\\amits\\AppData\\Local\\.bvm\\versions\\0.0.515\\bit-0.0.515\\node_modules\\@teambit\\compositions\\dist\\compositions.preview.runtime.js';
import graphqlRuntime from 'C:\\Users\\amits\\AppData\\Local\\.bvm\\versions\\0.0.515\\bit-0.0.515\\node_modules\\@teambit\\graphql\\dist\\graphql.preview.runtime.js';
import pubsubRuntime from 'C:\\Users\\amits\\AppData\\Local\\.bvm\\versions\\0.0.515\\bit-0.0.515\\node_modules\\@teambit\\pubsub\\dist\\pubsub.preview.runtime.js';
import reactRuntime from 'C:\\Users\\amits\\AppData\\Local\\.bvm\\versions\\0.0.515\\bit-0.0.515\\node_modules\\@teambit\\react\\dist\\react.preview.runtime.js';
import commandBarRuntime from 'C:\\Users\\amits\\AppData\\Local\\.bvm\\versions\\0.0.515\\bit-0.0.515\\node_modules\\@teambit\\command-bar\\dist\\command-bar.preview.runtime.js';

const isBrowser = typeof window !== "undefined";
const config = JSON.parse('{"teambit.workspace/workspace":{"name":"my-workspace-name","icon":"https://static.bit.dev/bit-logo.svg","defaultDirectory":"{scope}/{name}","defaultScope":"my-scope"},"teambit.dependencies/dependency-resolver":{"packageManager":"teambit.dependencies/pnpm","policy":{"dependencies":{"@testing-library/react":"12.1.2"},"peerDependencies":{"react":"17.0.2","react-dom":"17.0.2"}},"packageManagerArgs":[],"devFilePatterns":["**/*.spec.ts"],"strictPeerDependencies":true,"installFromBitDevRegistry":true,"savePrefix":""},"teambit.workspace/variants":{"*":{"teambit.react/react":{}}},"teambit.harmony/bit":{"cwd":"C:\\\\Users\\\\amits\\\\repo\\\\modal-exercise-with-bit"}}');
previewAspect.id = 'teambit.preview/preview';
docsAspect.id = 'teambit.docs/docs';
compositionsAspect.id = 'teambit.compositions/compositions';
graphqlAspect.id = 'teambit.harmony/graphql';
pubsubAspect.id = 'teambit.harmony/pubsub';
reactAspect.id = 'teambit.react/react';
commandBarAspect.id = 'teambit.explorer/command-bar';

export function render(...props){
  return Harmony.load([previewAspect, docsAspect, compositionsAspect, graphqlAspect, pubsubAspect, reactAspect, commandBarAspect], 'preview', config)
    .then((harmony) => {
      return harmony
      .run()
      .then(() => {
        const rootExtension = harmony.get('teambit.preview/preview');

        if (isBrowser) {
          return rootExtension.render('teambit.workspace/workspace', ...props);
        } else {
          return rootExtension.renderSsr('teambit.workspace/workspace', ...props);
        }
      })
      .catch((err) => {
        throw err;
      });
    });
}

if (isBrowser) render();
