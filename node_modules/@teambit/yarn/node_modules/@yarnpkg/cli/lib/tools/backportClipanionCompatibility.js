"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.backportClipanionCompatibility = void 0;
function backportClipanionCompatibility(clipanion) {
    clipanion.Command.Path = (...p) => (instance) => {
        instance.paths = instance.paths || [];
        instance.paths.push(p);
    };
    for (const fn of [`Array`, `Boolean`, `String`, `Proxy`, `Rest`, `Counter`]) {
        clipanion.Command[fn] = (...args) => (instance, propertyName) => {
            const value = clipanion.Option[fn](...args);
            Object.defineProperty(instance, `__${propertyName}`, {
                configurable: false,
                enumerable: true,
                get() {
                    return value;
                },
                set(value) {
                    this[propertyName] = value;
                },
            });
        };
    }
    return clipanion;
}
exports.backportClipanionCompatibility = backportClipanionCompatibility;
